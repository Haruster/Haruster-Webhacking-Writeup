- 오늘은 Lord of SQL Injection의 문제인 Cobolt를 풀어보도록 하겠습니다.

![](https://images.velog.io/images/dsph9245/post/0f4409ab-02b0-4aea-a88f-1fa0ca4a1c03/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-08%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.07.22.png)

![](https://images.velog.io/images/dsph9245/post/92d281bf-f138-4471-9a90-698f55b912cf/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-08%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.07.18.png)

- 일단 문제에 접속해주면 아래와 같은 소스코드를 확인할 수 있습니다.

- 해당 소스코드를 분석하면 우리가 어떻게 SQL Injection을 수행해야 하고 필터링 처리를 피해서 어떻게 Exploit을 성공시킬지를 알 수 있습니다.

![](https://images.velog.io/images/dsph9245/post/ba3b2e4d-1cbd-4ae7-83fd-53536cb7ae57/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-08%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.07.30.png)

- 소스코드를 분석해본 결과 if문의 preg_match함수에서 '(싱글쿼터)와 "(더블 쿼터)의 필터링은 이루어지지 않았으며, 

![](https://images.velog.io/images/dsph9245/post/7e8067db-7c86-46e2-b6fb-9a78bf7e7807/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-08%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.07.51.png)

- solve가 이루어지기 위해서는 id가 admin이어야 한다는 것을 알 수 있습니다.

![](https://images.velog.io/images/dsph9245/post/73151e8a-9a54-46d9-aed0-f6ac59243ce3/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-08%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.08.01.png)

- 즉, id를 admin으로 하고 뒤를 주석으로 처리해주면 플래그를 얻을 수 있습니다.

```
id=admin' %23
```

![](https://images.velog.io/images/dsph9245/post/2132ffde-d334-4a11-a070-a064a3d27269/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-08%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.09.35.png)![](https://images.velog.io/images/dsph9245/post/aec35362-0f58-4fb2-b28e-687f9243e567/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202022-01-08%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.09.40.png)
